{
    "name": "taskflow/todo-app",
    "description": "Application de gestion de tâches sécurisée",
    "type": "project",
    "require": {
        "php": ">=8.2"
    },
    "require-dev": {
        "phpunit/phpunit": "^10.0",
        "phpstan/phpstan": "^1.10",
        "squizlabs/php_codesniffer": "^3.7",
        "phploc/phploc": "^7.0"
    },
    "autoload": {
        "psr-4": {
            "TaskFlow\\": "includes/"
        }
    },
    "scripts": {
        "test": "phpunit --configuration phpunit.xml",
        "test-coverage": "phpunit --configuration phpunit.xml --coverage-html coverage",
        "analyse": "phpstan analyse includes tests --level=5",
        "lint": "phpcs includes tests --standard=PSR12",
        "security-check": [
            "grep -r \"eval\\|system\\|exec\\|shell_exec\\|passthru\\|proc_open\\|popen\\|pcntl_exec\" --include=\"*.php\" . || echo 'No dangerous functions found'",
            "grep -r \"password.*=.*['\\\"].*['\\\"]\" --include=\"*.php\" --include=\"*.js\" . || echo 'No plaintext passwords found'"
        ],
        "metrics": "phploc --count-tests .",
        "ci": [
            "@test",
            "@analyse",
            "@lint",
            "@security-check"
        ]
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true
    }
}